header = T, sep = ",")
stats <- subset(stats, stats$PA >= 200)
stats <- subset(stats, stats$Season >= 1995 & stats$Season <= 2003)
Sal_real <- stats$`AVG ANNUAL`
Sal <- stats$`Log AVG ANNUAL`
Sal_dev <- stats$`Dev Log salary`
AVG <- stats$AVG
AGE <- stats$Age
AGE_sq <- AGE^2
fWAR <- stats$WAR
G <- stats$G
PA <- stats$PA
WPA <- stats$`+WPA`/stats$PA
nWPA <- -stats$`-WPA`/stats$PA
ID <- stats$playerid
BAT <- stats$Bat
FLD <- stats$Fld
BsR <- stats$BsR
POS <- stats$POS
TEAM <- stats$TEAM_nextyr
ERA <- stats$Era
OBP <- stats$OBP
HR <- stats$HR
RBI <- stats$RBI
SB <- stats$SB
OPS <- stats$OPS
H <- stats$H
Yr <- as.factor(stats$Season)
FA <- stats$FA
r2 <- RDestimate(Sal ~ AVG | FLD + BsR + AGE + AGE_sq + WPA + nWPA + FA + Yr,
cutpoint = 0.3)
summary(r2)
r2 <- RDestimate(Sal ~ AVG | FLD + BsR + AGE + AGE_sq + WPA + nWPA + FA + Yr,
cutpoint = 0.25)
summary(r2)
r2 <- RDestimate(Sal ~ HR | FLD + BsR + AGE + AGE_sq + WPA + nWPA + FA,
cutpoint = 20)
summary(r2)
r2 <- RDestimate(Sal ~ OBP | FLD + BsR + AGE + AGE_sq + WPA + nWPA + FA + Yr,
cutpoint = 0.35)
summary(r2)
r2 <- RDestimate(Sal ~ SB | FLD + BAT + AGE + AGE_sq + WPA + nWPA + Yr,
cutpoint = 30)
summary(r2)
stats <- fread("C:/Users/easyu/Master_thesis/master_thesis/output/stats_sal_fa_revised.csv",
header = T, sep = ",")
stats <- subset(stats, stats$PA >= 200)
stats <- subset(stats, stats$Season >= 2004)
Sal_real <- stats$`AVG ANNUAL`
Sal <- stats$`Log AVG ANNUAL`
Sal_dev <- stats$`Dev Log salary`
AVG <- stats$AVG
AGE <- stats$Age
AGE_sq <- AGE^2
fWAR <- stats$WAR
G <- stats$G
PA <- stats$PA
WPA <- stats$`+WPA`/stats$PA
nWPA <- -stats$`-WPA`/stats$PA
ID <- stats$playerid
BAT <- stats$Bat
FLD <- stats$Fld
BsR <- stats$BsR
POS <- stats$POS
TEAM <- stats$TEAM_nextyr
ERA <- stats$Era
OBP <- stats$OBP
HR <- stats$HR
RBI <- stats$RBI
SB <- stats$SB
OPS <- stats$OPS
H <- stats$H
Yr <- as.factor(stats$Season)
FA <- stats$FA
r2 <- RDestimate(Sal ~ AVG | FLD + BsR + AGE + AGE_sq + WPA + nWPA + FA + Yr,
cutpoint = 0.3)
summary(r2)
r2 <- RDestimate(Sal ~ AVG | FLD + BsR + AGE + AGE_sq + WPA + nWPA + FA + Yr,
cutpoint = 0.25)
summary(r2)
r2 <- RDestimate(Sal ~ HR | FLD + BsR + AGE + AGE_sq + WPA + nWPA + FA,
cutpoint = 20)
summary(r2)
r2 <- RDestimate(Sal ~ OBP | FLD + BsR + AGE + AGE_sq + WPA + nWPA + FA + Yr,
cutpoint = 0.35)
summary(r2)
r1 <- RDestimate(Sal ~ SB, cutpoint = 30)
r2 <- RDestimate(Sal ~ SB | FLD + BAT + AGE + AGE_sq + WPA + nWPA + Yr,
cutpoint = 30)
summary(r1)
summary(r2)
#AFMB
stats <- fread("C:/Users/easyu/Master_thesis/master_thesis/input/fstats_5718.csv"
, header = T, sep = ",")
stats <- subset(stats, stats$PA >= 200)
stats <- subset(stats, stats$Season >= 2004)
AVG <- stats$H / stats$AB
OBP <- (stats$H + stats$BB + stats$IBB + stats$HBP) / (stats$AB ++ stats$BB
+ stats$IBB + stats$HBP + stats$SF)
HR <- stats$HR
SB <- stats$SB
DCdensity(AVG, 0.3, bin = 0.001, ext.out = T)
title('', xlab = 'Batting-Average', ylab = 'Density')
DCdensity(AVG, 0.25, bin = 0.001, ext.out = T)
DCdensity(OBP, 0.35, bin = 0.001, ext.out = T)
title('', xlab = 'Batting-Average', ylab = 'Density')
title('', xlab = 'On-Base Percentage', ylab = 'Density')
DCdensity(HR, 20, bin = 1, ext.out = T)
title('', xlab = 'Homerun', ylab = 'Density')
DCdensity(SB, 30, bin = 1, ext.out = T)
title('', xlab = 'Stolen-Base', ylab = 'Density')
help(felm)
help(lfe)
help("lfe")
library(lfe)
help("lfe")
stats <- fread("C:/Users/easyu/Master_thesis/master_thesis/output/stats_sal_fa_revised_B.csv",
header = T, sep = ",")
stats <- subset(stats, stats$PA >= 200)
stats <- subset(stats, AVG < 0.299 & AVG >= 0.202)
Sal_real <- stats$`AVG ANNUAL`
Sal <- stats$`Log AVG ANNUAL`
Sal_dev <- stats$`Dev Log salary`
AVG <- stats$AVG
AGE <- stats$Age
AGE_sq <- AGE^2
fWAR <- stats$WAR
G <- stats$G
PA <- stats$PA
WPA <- stats$`+WPA`/stats$PA
nWPA <- -stats$`-WPA`/stats$PA
Clutch <- stats$Clutch
ID <- stats$playerid
BAT <- stats$Bat
FLD <- stats$Fld
BsR <- stats$BsR
POS <- stats$POS
TEAM <- stats$TEAM_nextyr
ERA <- stats$Era
OBP <- stats$OBP
HR <- stats$HR
RBI <- stats$RBI
SB <- stats$SB
OPS <- stats$OPS
H <- stats$H
Yr <- as.factor(stats$Season)
AVG_300 <- stats$AVG_300
AVG_250 <- stats$AVG_250
OBP_350 <- stats$OBP_350
HR_20 <- stats$HR_20
RBI_100 <- stats$RBI_100
SB_30 <- stats$SB_30
SB_40 <- stats$SB_40
OPS_1000 <- stats$OPS_1000
PA_500 <- stats$PA_500
H_200 <- stats$H_200
FA <- stats$FA
d1 <- lm(Sal ~ AVG * AVG_250)
d2 <- lm(Sal ~ AVG * AVG_250 + FLD + BsR + Yr)
d3 <- lm(Sal ~ AVG * AVG_250 + FLD + BsR + AGE + AGE_sq + Yr)
d4 <- lm(Sal ~ AVG * AVG_250 + FLD + BsR + AGE + AGE_sq + WPA + nWPA + Yr)
d5 <- lm(Sal ~ AVG * AVG_250 + FLD + BsR + AGE + AGE_sq + WPA + nWPA + FA + Yr)
d6 <- felm(Sal ~ AVG * AVG_250 + FLD + BsR + AGE + AGE_sq + WPA + nWPA + FA + Yr | POS)
d7 <- felm(Sal ~ AVG * AVG_250 + FLD + BsR + WPA + nWPA + FA + Yr | ID)
d8 <- felm(Sal ~ AVG * AVG_250 + FLD + BsR + WPA + nWPA + FA + Yr | POS)
library(data.table)
library(lfe)
library(rdd)
library(rddensity)
library(stargazer)
stats <- fread("C:/Users/easyu/Master_thesis/master_thesis/output/stats_sal_fa_revised_B.csv",
header = T, sep = ",")
stats <- subset(stats, stats$PA >= 200)
stats <- subset(stats, AVG < 0.299 & AVG >= 0.202)
Sal_real <- stats$`AVG ANNUAL`
Sal <- stats$`Log AVG ANNUAL`
Sal_dev <- stats$`Dev Log salary`
AVG <- stats$AVG
AGE <- stats$Age
AGE_sq <- AGE^2
fWAR <- stats$WAR
G <- stats$G
PA <- stats$PA
WPA <- stats$`+WPA`/stats$PA
nWPA <- -stats$`-WPA`/stats$PA
Clutch <- stats$Clutch
ID <- stats$playerid
BAT <- stats$Bat
FLD <- stats$Fld
BsR <- stats$BsR
POS <- stats$POS
TEAM <- stats$TEAM_nextyr
ERA <- stats$Era
OBP <- stats$OBP
HR <- stats$HR
RBI <- stats$RBI
SB <- stats$SB
OPS <- stats$OPS
H <- stats$H
Yr <- as.factor(stats$Season)
AVG_300 <- stats$AVG_300
AVG_250 <- stats$AVG_250
OBP_350 <- stats$OBP_350
HR_20 <- stats$HR_20
RBI_100 <- stats$RBI_100
SB_30 <- stats$SB_30
SB_40 <- stats$SB_40
OPS_1000 <- stats$OPS_1000
PA_500 <- stats$PA_500
H_200 <- stats$H_200
FA <- stats$FA
d1 <- lm(Sal ~ AVG * AVG_250)
d2 <- lm(Sal ~ AVG * AVG_250 + FLD + BsR + Yr)
d3 <- lm(Sal ~ AVG * AVG_250 + FLD + BsR + AGE + AGE_sq + Yr)
d4 <- lm(Sal ~ AVG * AVG_250 + FLD + BsR + AGE + AGE_sq + WPA + nWPA + Yr)
d5 <- lm(Sal ~ AVG * AVG_250 + FLD + BsR + AGE + AGE_sq + WPA + nWPA + FA + Yr)
d6 <- felm(Sal ~ AVG * AVG_250 + FLD + BsR + AGE + AGE_sq + WPA + nWPA + FA + Yr | POS)
d7 <- felm(Sal ~ AVG * AVG_250 + FLD + BsR + WPA + nWPA + FA + Yr | ID)
d8 <- felm(Sal ~ AVG * AVG_250 + FLD + BsR + WPA + nWPA + FA + Yr | POS)
stargazer(d7,d8,
out = "text")
library(data.table)
library(lfe)
library(rdd)
library(rddensity)
stats <- fread("C:/Users/easyu/Master_thesis/master_thesis/output/stats_sal_fa_revised.csv",
header = T, sep = ",")
stats <- subset(stats, stats$PA >= 200)
Sal_real <- stats$`AVG ANNUAL`
Sal <- stats$`Log AVG ANNUAL`
Sal_dev <- stats$`Dev Log salary`
AVG <- stats$AVG
AGE <- stats$Age
AGE_sq <- AGE^2
fWAR <- stats$WAR
G <- stats$G
PA <- stats$PA
WPA <- stats$`+WPA`/stats$PA
nWPA <- -stats$`-WPA`/stats$PA
ID <- stats$playerid
BAT <- stats$Bat
FLD <- stats$Fld
BsR <- stats$BsR
POS <- stats$POS
TEAM <- stats$TEAM_nextyr
ERA <- stats$Era
OBP <- stats$OBP
HR <- stats$HR
RBI <- stats$RBI
SB <- stats$SB
OPS <- stats$OPS
H <- stats$H
Yr <- as.factor(stats$Season)
FA <- stats$FA
r1 <- RDestimate(Sal ~ AVG, cutpoint = 0.3, se.type = "HC2")
r2 <- RDestimate(Sal ~ AVG | FLD + BsR + AGE + AGE_sq + WPA + nWPA + FA + Yr,
cutpoint = 0.3, se.type = "HC2")
summary(r1)
summary(r2)
r1 <- RDestimate(Sal ~ HR, cutpoint = 20, se.type = "HC2")
r2 <- RDestimate(Sal ~ HR | FLD + BsR + AGE + AGE_sq + WPA + nWPA + FA,
cutpoint = 20, se.type = "HC2")
summary(r1)
summary(r2)
r1 <- RDestimate(Sal ~ OBP, cutpoint = 0.35, se.type = "HC2")
r2 <- RDestimate(Sal ~ OBP | FLD + BsR + AGE + AGE_sq + WPA + nWPA + FA + Yr,
cutpoint = 0.35, se.type = "HC2")
summary(r1)
summary(r2)
r1 <- RDestimate(Sal ~ RBI, cutpoint = 100, se.type = "HC2")
r2 <- RDestimate(Sal ~ RBI | FLD + BsR + AGE + AGE_sq + WPA + nWPA + FA + Yr,
cutpoint = 100)
summary(r1)
summary(r2)
r2$bw
r2$obs
r2$est
r2$se
r2$z
r1 <- RDestimate(Sal ~ H, cutpoint = 200, se.type = "HC2")
r2 <- RDestimate(Sal ~ H | FLD + BsR + AGE + AGE_sq + WPA + nWPA + FA + Yr,
cutpoint = 200, se.type = "HC2")
summary(r1)
summary(r2)
r1 <- RDestimate(Sal ~ H, cutpoint = 200)
r2 <- RDestimate(Sal ~ H | FLD + BsR + AGE + AGE_sq + WPA + nWPA + FA + Yr,
cutpoint = 200)
summary(r1)
summary(r2)
summary(r1)
summary(r2)
stats <- fread("C:/Users/easyu/Master_thesis/master_thesis/output/stats_sal_fa_revised.csv",
header = T, sep = ",")
stats <- subset(stats, stats$PA >= 200)
stats <- subset(stats, stats$FA == 1)
Sal_real <- stats$`AVG ANNUAL`
Sal <- stats$`Log AVG ANNUAL`
Sal_dev <- stats$`Dev Log salary`
AVG <- stats$AVG
AGE <- stats$Age
AGE_sq <- AGE^2
fWAR <- stats$WAR
G <- stats$G
PA <- stats$PA
WPA <- stats$`+WPA`/stats$PA
nWPA <- -stats$`-WPA`/stats$PA
ID <- stats$playerid
BAT <- stats$Bat
FLD <- stats$Fld
BsR <- stats$BsR
POS <- stats$POS
TEAM <- stats$TEAM_nextyr
ERA <- stats$Era
OBP <- stats$OBP
HR <- stats$HR
RBI <- stats$RBI
SB <- stats$SB
OPS <- stats$OPS
H <- stats$H
Yr <- as.factor(stats$Season)
FA <- stats$FA
r1 <- RDestimate(Sal ~ AVG, cutpoint = 0.3)
r2 <- RDestimate(Sal ~ AVG | FLD + BsR + AGE + AGE_sq + WPA + nWPA + Yr,
cutpoint = 0.3)
summary(r1)
summary(r2)
r1 <- RDestimate(Sal ~ AVG, cutpoint = 0.25)
r2 <- RDestimate(Sal ~ AVG | FLD + BsR + AGE + AGE_sq + WPA + nWPA + Yr,
cutpoint = 0.25)
summary(r1)
summary(r2)
r1 <- RDestimate(Sal ~ HR, cutpoint = 20)
r2 <- RDestimate(Sal ~ HR | FLD + BsR + AGE + AGE_sq + WPA + nWPA + Yr,
cutpoint = 20)
summary(r1)
summary(r2)
r1 <- RDestimate(Sal ~ OBP, cutpoint = 0.35)
r2 <- RDestimate(Sal ~ OBP | FLD + BsR + AGE + AGE_sq + WPA + nWPA + Yr,
cutpoint = 0.35)
summary(r1)
summary(r2)
r1 <- RDestimate(Sal ~ RBI, cutpoint = 100)
r2 <- RDestimate(Sal ~ RBI | FLD + BsR + AGE + AGE_sq + WPA + nWPA + Yr,
cutpoint = 100)
summary(r1)
summary(r2)
r1 <- RDestimate(Sal ~ SB, cutpoint = 30)
r2 <- RDestimate(Sal ~ SB | FLD + BAT + AGE + AGE_sq + WPA + nWPA + Yr,
cutpoint = 30)
summary(r1)
summary(r2)
stats <- fread("C:/Users/easyu/Master_thesis/master_thesis/output/stats_sal_fa_revised.csv",
header = T, sep = ",")
stats <- subset(stats, stats$PA >= 200)
stats <- subset(stats, stats$FA == 1)
Sal_real <- stats$`AVG ANNUAL`
Sal <- stats$`Log AVG ANNUAL`
Sal_dev <- stats$`Dev Log salary`
AVG <- stats$AVG
AGE <- stats$Age
AGE_sq <- AGE^2
fWAR <- stats$WAR
G <- stats$G
PA <- stats$PA
WPA <- stats$`+WPA`/stats$PA
nWPA <- -stats$`-WPA`/stats$PA
ID <- stats$playerid
BAT <- stats$Bat
FLD <- stats$Fld
BsR <- stats$BsR
POS <- stats$POS
TEAM <- stats$TEAM_nextyr
ERA <- stats$Era
OBP <- stats$OBP
HR <- stats$HR
RBI <- stats$RBI
SB <- stats$SB
OPS <- stats$OPS
H <- stats$H
Yr <- as.factor(stats$Season)
FA <- stats$FA
r1 <- RDestimate(Sal ~ AVG, cutpoint = 0.3)
r2 <- RDestimate(Sal ~ AVG | FLD + BsR + AGE + AGE_sq + WPA + nWPA + Yr,
cutpoint = 0.3)
summary(r1)
summary(r2)
r1 <- RDestimate(Sal ~ AVG, cutpoint = 0.25)
r2 <- RDestimate(Sal ~ AVG | FLD + BsR + AGE + AGE_sq + WPA + nWPA + Yr,
cutpoint = 0.25)
summary(r1)
summary(r2)
r1 <- RDestimate(Sal ~ HR, cutpoint = 20)
r2 <- RDestimate(Sal ~ HR | FLD + BsR + AGE + AGE_sq + WPA + nWPA + Yr,
cutpoint = 20)
summary(r1)
summary(r2)
r1 <- RDestimate(Sal ~ OBP, cutpoint = 0.35)
r2 <- RDestimate(Sal ~ OBP | FLD + BsR + AGE + AGE_sq + WPA + nWPA + Yr,
cutpoint = 0.35)
summary(r1)
summary(r2)
r1 <- RDestimate(Sal ~ RBI, cutpoint = 100)
r2 <- RDestimate(Sal ~ RBI | FLD + BsR + AGE + AGE_sq + WPA + nWPA + Yr,
cutpoint = 100)
summary(r1)
summary(r2)
r1 <- RDestimate(Sal ~ SB, cutpoint = 30)
r2 <- RDestimate(Sal ~ SB | FLD + BAT + AGE + AGE_sq + WPA + nWPA + Yr,
cutpoint = 30)
summary(r1)
summary(r2)
r1 <- RDestimate(Sal ~ SB, cutpoint = 40 )
r2 <- RDestimate(Sal ~ SB | FLD + BAT + AGE + AGE_sq + WPA + nWPA + Yr,
cutpoint = 40)
summary(r1)
summary(r2)
r1 <- RDestimate(Sal ~ H, cutpoint = 100)
r2 <- RDestimate(Sal ~ H | FLD + BsR + AGE + AGE_sq + WPA + nWPA + Yr,
cutpoint = 100)
summary(r1)
summary(r2)
stats <- fread("C:/Users/easyu/Master_thesis/master_thesis/output/stats_sal_fa_revised.csv",
header = T, sep = ",")
stats <- subset(stats, stats$PA >= 200)
Sal_real <- stats$`AVG ANNUAL`
Sal <- stats$`Log AVG ANNUAL`
Sal_dev <- stats$`Dev Log salary`
AVG <- stats$AVG
AGE <- stats$Age
AGE_sq <- AGE^2
fWAR <- stats$WAR
G <- stats$G
PA <- stats$PA
WPA <- stats$`+WPA`/stats$PA
nWPA <- -stats$`-WPA`/stats$PA
ID <- stats$playerid
BAT <- stats$Bat
FLD <- stats$Fld
BsR <- stats$BsR
POS <- stats$POS
TEAM <- stats$TEAM_nextyr
ERA <- stats$Era
OBP <- stats$OBP
HR <- stats$HR
RBI <- stats$RBI
SB <- stats$SB
OPS <- stats$OPS
H <- stats$H
Yr <- as.factor(stats$Season)
FA <- stats$FA
r1 <- RDestimate(Sal ~ AVG, cutpoint = 0.3, se.type = "HC2")
r2 <- RDestimate(Sal ~ AVG | FLD + BsR + AGE + AGE_sq + WPA + nWPA + FA + Yr,
cutpoint = 0.3, se.type = "HC2")
summary(r1)
summary(r2)
r1 <- RDestimate(Sal ~ HR, cutpoint = 20, se.type = "HC2")
r2 <- RDestimate(Sal ~ HR | FLD + BsR + AGE + AGE_sq + WPA + nWPA + FA,
cutpoint = 20, se.type = "HC2")
summary(r1)
summary(r2)
r1 <- RDestimate(Sal ~ OBP, cutpoint = 0.35, se.type = "HC2")
r2 <- RDestimate(Sal ~ OBP | FLD + BsR + AGE + AGE_sq + WPA + nWPA + FA + Yr,
cutpoint = 0.35, se.type = "HC2")
summary(r1)
summary(r2)
r1 <- RDestimate(Sal ~ RBI, cutpoint = 100, se.type = "HC2")
r2 <- RDestimate(Sal ~ RBI | FLD + BsR + AGE + AGE_sq + WPA + nWPA + FA + Yr,
cutpoint = 100)
summary(r1)
summary(r2)
r2$bw
r2$obs
r2$est
r2$se
r2$z
r1 <- RDestimate(Sal ~ H, cutpoint = 200)
r2 <- RDestimate(Sal ~ H | FLD + BsR + AGE + AGE_sq + WPA + nWPA + FA + Yr,
cutpoint = 200)
summary(r1)
summary(r2)
stats <- subset(stats, stats$PA >= 200)
stats <- fread("C:/Users/easyu/Master_thesis/master_thesis/input/fstats_5718.csv"
, header = T, sep = ",")
stats <- subset(stats, stats$PA >= 200)
library(stargazer)
library(data.table)
library(lfe)
library(rdd)
library(rddensity)
stats <- fread("C:/Users/easyu/Master_thesis/master_thesis/input/fstats_5718.csv"
, header = T, sep = ",")
stats <- subset(stats, stats$PA >= 200)
AVG_1 <- stats_1$AVG
AVG_2 <- stats_2$AVG
AVG_3 <- stats_3$AVG
AVG_4 <- stats_4$AVG
stats_1 <- subset(stats, stats$Season <= 1975)
stats_2 <- subset(stats, stats$Season >= 1976 & stats$Season <= 1994)
stats_3 <- subset(stats, stats$Season >= 1995 & stats$Season <= 2003)
stats_4 <- subset(stats, stats$Season >= 2004)
AVG_1 <- stats_1$AVG
AVG_2 <- stats_2$AVG
AVG_3 <- stats_3$AVG
AVG_4 <- stats_4$AVG
mean(AVG_1)
AVG_mean <- list(c(mean(AVG_1), mean(AVG_2), mean(AVG_3), mean(AVG_4)))
AVG_mean
summary(AVG_mean)
summary(AVG_1)
summary(AVG_2)
summary(AVG_3)
summary(AVG_4)
